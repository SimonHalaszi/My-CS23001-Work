/*
* Simon Halaszi
* string project
* CS23001
*/

// Testing finding a character

#include <iostream> 
#include <cassert>
#include "string.hpp"

//===========================================================================
int main () {
    std::cout << "----------------------------------------------------" << std::endl;
    {
        //------------------------------------------------------
        // Setup fixture
        std::cout << "-     Test 1: " << std::endl;

        // Test 
        String searchMe = "Hello World, This is my string!";
        std::cout << "Searching string: " << '"' << searchMe << '"' << std::endl;

        // Verify
        int assertOne = searchMe.findch(0, 'H');
        assert(assertOne == 0);
        std::cout << "'H' found at index 0." << std::endl;

        int assertTwo = searchMe.findch(0, 'W');
        assert(assertTwo == 6);
        std::cout << "'W' found at index 6." << std::endl;

        int assertThree = searchMe.findch(0, 'Z');
        assert(assertThree == -1);
        std::cout << "'Z' is not in this string." << std::endl;

        int assertFour = searchMe.findch(0, 'i');
        assert(assertFour == 15);
        std::cout << "'i' found at index 15." << std::endl;

        int assertFive = searchMe.findch(++assertFour, 'i');
        assert(assertFive == 18);
        std::cout << "'i' found at index 18." << std::endl;

        int assertSix = searchMe.findch(++assertFive, 'i');
        assert(assertSix == 27);
        std::cout << "'i' found at index 27." << std::endl;
    }
    {
        //------------------------------------------------------
        // Setup fixture
        std::cout << "-     Test 2: " << std::endl;

        // Test 
        String searchMe = 'h';
        std::cout << "Searching string: " << '"' << searchMe << '"' << std::endl;

        // Verify
        int assertOne = searchMe.findch(0, 'h');
        assert(assertOne == 0);
        std::cout << "h found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(0, 'a');
        assert(assertOne == -1);
        std::cout << "a found at: " << assertOne << std::endl;
    }
    {
        //------------------------------------------------------
        // Setup fixture
        std::cout << "-     Test 3: " << std::endl;

        // Test 
        String searchMe = "Hello";
        std::cout << "Searching string: " << '"' << searchMe << '"' << std::endl;

        // Verify
        int assertOne = searchMe.findch(0, 'H');
        assert(assertOne == 0);
        std::cout << "H found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(0, 'o');
        assert(assertOne == searchMe.length() - 1);
        std::cout << "o found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(0, 'a');
        assert(assertOne == -1);
        std::cout << "a found at: " << assertOne << std::endl;
    }
    {
        //------------------------------------------------------
        // Setup fixture
        std::cout << "-     Test 4: " << std::endl;

        // Test 
        String searchMe = "I love Strings!";
        std::cout << "Searching string: " << '"' << searchMe << '"' << std::endl;

        // Verify
        int assertOne = searchMe.findch(0, 'I');
        assert(assertOne == 0);
        std::cout << "I found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(0, '!');
        assert(assertOne == searchMe.length() - 1);
        std::cout << "! found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(0, 'e');
        assert(assertOne == 5);
        std::cout << "e found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(0, 'a');
        assert(assertOne == -1);
        std::cout << "a found at: " << assertOne << std::endl;
    }
    {
        //------------------------------------------------------
        // Setup fixture
        std::cout << "-     Test 5 (SPECIAL CHARACTERS): " << std::endl;

        // Test 
        String searchMe = "$&%#*@#$!@$!%!";
        std::cout << "Searching string: " << '"' << searchMe << '"' << std::endl;

        // Verify
        int assertOne = searchMe.findch(0, '$');
        assert(assertOne == 0);
        std::cout << "$ found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(0, '!');
        assert(assertOne == searchMe.length() - 6);
        std::cout << "! found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(++assertOne, '!');
        assert(assertOne == searchMe.length() - 3);
        std::cout << "! found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(++assertOne, '!');
        assert(assertOne == searchMe.length() - 1);
        std::cout << "! found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(0, '%');
        assert(assertOne == 2);
        std::cout << "'%' found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(++assertOne, '%');
        assert(assertOne == searchMe.length() - 2);
        std::cout << "'%' found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(0, '^');
        assert(assertOne == -1);
        std::cout << "^ found at: " << assertOne << std::endl;
    }
    {
        //------------------------------------------------------
        // Setup fixture
        std::cout << "-     Test 6: " << std::endl;

        // Test 
        String searchMe = 'h';
        std::cout << "Searching string: " << '"' << searchMe << '"' << std::endl;

        // Verify
        int assertOne = searchMe.findch(0, 'h');
        assert(assertOne == 0);
        std::cout << "h found at: " << assertOne << std::endl;

        assertOne = searchMe.findch(0, 'a');
        assert(assertOne == -1);
        std::cout << "a found at: " << assertOne << std::endl;
    }
    {
        //------------------------------------------------------
        // Setup fixture
        std::cout << "-     Test 7 (EMPTY): " << std::endl;

        // Test 
        String searchMe = "";
        std::cout << "Searching string: " << '"' << searchMe << '"' << std::endl;

        // Verify
        int assertOne = searchMe.findch(0, '\0');
        assert(assertOne == 0);
        std::cout << "Null character found at first index" << std::endl;

        assertOne = searchMe.findch(0, 'a');
        assert(assertOne == -1);
        std::cout << "Any other character cant be found in a empty string." << std::endl;
    }
    {
        //------------------------------------------------------
        // Setup fixture
        std::cout << "-     Test 8 (AT CAPACITY): " << std::endl;

        // Test 
        String searchMe = "Hello World, this is my very long String used for at-capacity testing. This String is two hundred and fifty-six characters long. That is including the null character at the end of the string. There isn't much else to say here about this string. I love CS!";
        std::cout << "Searching string: " << '"' << searchMe << '"' << std::endl;
        assert(searchMe.length() == searchMe.capacity());
        
        // Verify
        int assertOne = searchMe.findch(0, '!');
        assert(assertOne == searchMe.capacity() - 1);
        std::cout << "'!' found at index last index not dedicated to null character." << std::endl;
    }

    std::cout << std::endl << "Dont testing find character." << std::endl;
    std::cout << "----------------------------------------------------" << std::endl;

}