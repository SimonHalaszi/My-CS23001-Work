//
// File:        logentry.hpp
//
// Version:     1.0
// Date:
// Author:
//
// Description: Class definition for a log entry.
//
//
//
 
#ifndef CS_LOGENTRY_H_
#define CS_LOGENTRY_H_

#include "string.hpp"
#include <cstdlib>
#include <iostream>
#include <fstream>
#include <vector>

//
class Date {
    public:
        Date() {};
        void setDay(String Day) { day = Day; };
        void setMonth(String Month) { month = Month; };
        void setYear(String Year) { year = Year; };
        String getDay() const { return day; };
        String getMonth() const { return month; };
        String getYear() const { return year; };
    private:
        String  day, month, year;
};

//
class Time {
    public:
        Time() {};
        void setHour(String Hour) { hour = Hour; };
        void setMinute(String Minute) { minute = Minute; };
        void setSecond(String Second) { second = Second; };
        String getHour() const { return hour; };
        String getMinute() const { return minute; };
        String getSecond() const { return second; };
    private:
        String  hour, minute, second;
};


// A single log entry
class LogEntry {
    public:
        LogEntry() {};
        LogEntry(const String&);
        friend  std::ostream& operator<<(std::ostream&, const LogEntry&);
        String getHost() const { return host; };
        int getBytes() const { return number_of_bytes; };

    private:
        String  host;
        Date    date;
        Time    time;
        String  request;
        String  status;
        int     number_of_bytes;
};


//
// Free functions
//

std::vector<LogEntry> parse       (std::istream&);
void output_all  (std::ostream&, const std::vector<LogEntry>&);
void by_host     (std::ostream&, const std::vector<LogEntry>&);
int byte_count  (const std::vector<LogEntry>&);

#endif
